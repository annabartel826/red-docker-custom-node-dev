slim

# Add node-red user so we aren't running as root.
RUN useradd --home-dir /usr/src/node-red --no-create-home node-red \
    && chown -R node-red:node-red /data \
    && chown -R node-red:node-red /usr/src/node-red


alpine
# Add node-red user so we aren't running as root.
RUN adduser -h /usr/src/node-red -D -H node-red \
    && chown -R node-red:node-red /data \
    && chown -R node-red:node-red /usr/src/node-red



- old -
alpine
&& addgroup -g 1001 -S node-red \
&& adduser -S -h /usr/src/node-red -u 1001 node-red -G node-red \
&& chown -Rv node-red:node-red /usr/src/node-red \
&& chown -R node-red:node-red /data

slim
&& adduser --system --home /usr/src/node-red --uid 1001 --group node-red \
&& mkdir /data \
&& chown -Rv node-red:node-red /data
